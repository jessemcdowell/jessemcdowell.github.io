<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>SQLite vs. SQL CE 3.5 with Entity Framework 4 | Jesse Builds Software</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script src="https://www.googletagmanager.com/gtag/js?id=UA-17968343-1" async></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-17968343-1');
</script><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">SQLite vs. SQL CE 3.5 with Entity Framework 4</h1><a id="logo" href="/.">Jesse Builds Software</a><p class="description">Jesse's thoughts on building quality software.</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/about/"><i class="fa fa-user"> About</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">SQLite vs. SQL CE 3.5 with Entity Framework 4</h1><div class="post-meta">2010-10-31</div><div class="post-content"><p>My wife and I have been taking a Japanese class. I’m enjoying it quite a bit, even though learning languages has never been easy for me. I need to work hard to memorize all the new words, and that means lots and lots of practice.</p>
<p>My wife bought a pack of index cards. This is what a normal person would do. To me, it seems like defeat. Why use paper when there’s a computer in the room? While she’s at the store, I grab a white board and sketch out a data model.</p>
<p>I used WPF for a UI, two simple view models, and Entity Framework 4 to store the lists of characters, words, and phrases. I started out with SQL Compact Edition 3.5 as a database because that was the one that was there. That didn’t work out so well, so on the advice of a colleague I switched my app to SQLite.</p>
<p>This is what I found:</p>
<p>SQL CE 3.5</p>
<p>SQLite</p>
<p>Pros</p>
<ul>
<li><p>Can be created easily from the VS designer</p>
</li>
<li><p>Can view and modify data inside Visual Studio</p>
</li>
<li><p>Supports Identity Columns</p>
</li>
<li><p>Easy to deploy</p>
</li>
<li><p>Lots of good tools available for managing databases</p>
</li>
<li><p>Can be used from non .Net and even non Windows applications</p>
</li>
</ul>
<p>Cons</p>
<ul>
<li><p>Doesn’t support Identity Columns in EF</p>
</li>
<li><p>Requires extra installation on client computers</p>
</li>
<li><p>Generating tables from a model is painful</p>
</li>
<li><p>Many model changes require regenerating the database</p>
</li>
<li><p>Doesn’t map Integer type correctly</p>
</li>
<li><p>Doesn’t support foreign key constraints</p>
</li>
<li><p>Generating tables from a model is somewhat painful</p>
</li>
</ul>
<h1 id="SQL-Compact-Edition-3-5"><a href="#SQL-Compact-Edition-3-5" class="headerlink" title="SQL Compact Edition 3.5"></a>SQL Compact Edition 3.5</h1><p>Before I start dumping on SQL CE, I should say that I was trying the 3.5 version, not the fancy new 4.0 version. Maybe they’ve fixed all these issues.</p>
<p>Creating the model was easy, but as I went through a few iterations of the data model I quickly became frustrated with the inability to change the database to match the new model. I’m sure it’s possible to change it, but you have to write the scripts yourself and hope that you’ve named everything exactly right. Entity Framework created a handy database-generation script, but it won’t run directly on as SQL CE database because it doesn’t support the GO statement. Copy and pasting each section of the script is annoying, but still better than typing all the names manually.</p>
<p>The real shock was adding data from inside my app. Entity Framework can’t generate data in a SQL CE database if the primary key is an identity. The best workaround I could find was to use a regular old integer for a primary key and search the model for the highest key value every time an entity is created. Not fun at all.</p>
<h1 id="SQLite"><a href="#SQLite" class="headerlink" title="SQLite"></a>SQLite</h1><p>It took a bit of fooling around to switch my database to SQLite. Most of the creation script ran on the database, though the types had to be changed a bit to match the database. All integers in SQLite are actually Int64 in .Net, but the Entity Framework maps them to Int32 in the model. Modifying the mapping files manually is annoying, but not hard to figure out.</p>
<p>Once the tables were set up and working, it was easy to copy the data over. The database tool I’m using for SQLite can import CSV files, even the multi-byte Japanese characters came across correctly.</p>
<p>The only thing left is to study.</p>
<p>You can get a .Net library for SQLite here: <a target="_blank" rel="noopener" href="https://sqlite.phxsoftware.com/">https://sqlite.phxsoftware.com/</a></p>
<p>It’s able to integrate with Visual Studio, even the Express version, but it didn’t work well for me. With a good database management tool you don’t need it. I’ve been using SQLite Administrator, which you can get here: <a target="_blank" rel="noopener" href="https://sqliteadmin.orbmu2k.de/">https://sqliteadmin.orbmu2k.de/</a></p>
</div><div class="tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Net/" rel="tag">.Net</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/database/" rel="tag">database</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/entity-framework/" rel="tag">entity framework</a></li></ul></div><div class="post-nav"><a class="pre" href="/2010/11/64-bit-iis-vs-32-bit-assemblies/">64-bit IIS vs. 32-bit Assemblies</a><a class="next" href="/2010/09/ie9-try-and-fail/">IE9 Try and Fail</a></div></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://jessemcdowell.ca"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="/mysterysolver/" title="Mystery Solver" target="_blank">Mystery Solver</a><ul></ul><a href="/license/" title="License" target="_blank">License</a></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Net/" style="font-size: 16px;">.Net</a> <a href="/tags/angular/" style="font-size: 12px;">angular</a> <a href="/tags/blogging/" style="font-size: 13.33px;">blogging</a> <a href="/tags/bugs/" style="font-size: 14.67px;">bugs</a> <a href="/tags/c/" style="font-size: 13.33px;">c#</a> <a href="/tags/career/" style="font-size: 17.33px;">career</a> <a href="/tags/consulting/" style="font-size: 12px;">consulting</a> <a href="/tags/database/" style="font-size: 14.67px;">database</a> <a href="/tags/debugging/" style="font-size: 20px;">debugging</a> <a href="/tags/design/" style="font-size: 16px;">design</a> <a href="/tags/devops/" style="font-size: 18.67px;">devops</a> <a href="/tags/entity-framework/" style="font-size: 13.33px;">entity framework</a> <a href="/tags/food/" style="font-size: 13.33px;">food</a> <a href="/tags/gadgets/" style="font-size: 12px;">gadgets</a> <a href="/tags/interviewing/" style="font-size: 12px;">interviewing</a> <a href="/tags/ioc/" style="font-size: 12px;">ioc</a> <a href="/tags/js/" style="font-size: 12px;">js</a> <a href="/tags/leadership/" style="font-size: 14.67px;">leadership</a> <a href="/tags/learning/" style="font-size: 12px;">learning</a> <a href="/tags/open-source/" style="font-size: 12px;">open source</a> <a href="/tags/people-management/" style="font-size: 14.67px;">people management</a> <a href="/tags/performance/" style="font-size: 13.33px;">performance</a> <a href="/tags/project-management/" style="font-size: 12px;">project management</a> <a href="/tags/recipes/" style="font-size: 12px;">recipes</a> <a href="/tags/sql/" style="font-size: 12px;">sql</a> <a href="/tags/tea/" style="font-size: 13.33px;">tea</a> <a href="/tags/unit-testing/" style="font-size: 12px;">unit testing</a> <a href="/tags/video-games/" style="font-size: 12px;">video games</a> <a href="/tags/war-stories/" style="font-size: 12px;">war stories</a> <a href="/tags/web/" style="font-size: 13.33px;">web</a></div></div><div class="widget"><div class="widget-title">Subscribe</div><ul></ul><i class="fa fa-rss"></i><a href="atom.xml" title="Atom" target="_blank"> Atom</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2023 <a href="/." rel="nofollow">Jesse Builds Software.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>